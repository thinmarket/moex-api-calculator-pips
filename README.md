# Калькулятор шага цены для Московской Биржи (MOEX)

## О проекте

Этот инструмент помогает трейдерам рассчитать стоимость минимального шага цены для акций MOEX. Зная эту величину, можно точнее оценивать риски и потенциальную прибыль при торговле.

**Основные возможности:**
- Быстрый расчет по актуальным данным MOEX
- Работа в оффлайн-режиме (использует кэшированные данные)
- Оптимизированные запросы с защитой от блокировки
- Адаптивный интерфейс для разных устройств

## Как работает расчет

**Формула расчета:**  
Стоимость шага = (Шаг цены) × (Количество лотов) × (Акций в лоте)

**Пример для Сбербанка:**
- Шаг цены: 0.01 руб.
- Лот: 10 акций
- 5 лотов → 0.01 × 5 × 10 = 0.50 руб.

## Техническая реализация

### Интеграция с MOEX API

Используется официальный JSON API Московской Биржи:  
`https://iss.moex.com/iss/engines/stock/markets/shares/boards/TQBR/securities.json`

**Получаемые данные:**
- Тикер (SECID)
- Название компании (SHORTNAME)
- Количество акций в лоте (LOTSIZE)
- Минимальный шаг цены (MINSTEP)

### Основные компоненты системы

**1. Rate Limiter (ограничитель запросов)**  
- Ограничение: 10 запросов в секунду  
- Очередь запросов  
- Автоматическая задержка  
- Защита от блокировки IP  

**2. Кэширование данных**  
- Основной источник: MOEX API  
- Локальное хранилище: localStorage (данные актуальны 5 минут)  
- Резервные данные: 2 предустановленных тикера  

**3. Механизм fallback**  
Если все источники недоступны, используются заранее заданные данные по основным тикерам.

## Особенности реализации

- Оптимизированный поиск по тикерам  
- Поддержка кириллицы и латиницы  
- Адаптивный интерфейс для мобильных устройств  
- Автоматическое определение цветовой схемы (светлая/темная)  

## Примеры расчетов

| Тикер | Лоты | Шаг цены | Результат    |
|-------|------|----------|-------------|
| SBER  | 5    | 0.01     | 0.50 руб.   |
| GAZP  | 10   | 0.01     | 1.00 руб.   |
| YNDX  | 3    | 0.05     | 1.50 руб.   |

## Для разработчиков

**Основные методы API:**  
`MOEX_API.loadStockData()` - загрузка данных  
`MOEX_API.getStockData()` - получение кэша  
`MOEX_API.getLastUpdateTime()` - время обновления  

**Возможности для расширения:**  
1. Добавление новых тикеров в fallback-данные  
2. Реализация WebSocket для live-данных  
3. Подключение графиков через TradingView API  

## Лицензия

MIT License - свободное использование и модификация

---

